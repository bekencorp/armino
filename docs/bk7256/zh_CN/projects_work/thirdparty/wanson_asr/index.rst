华镇语音识别工程
========================

:link_to_translation:`en:[English]`

1、功能概述
--------------------
	基于第三方公司 ``华镇`` 提供的本地语音识别库，实现本地离线语音唤醒词和命令词识别功能。

2、代码路径
--------------------
	demo路径: ``\components\demos\media\audio\audio_asr``

	华镇的本地语音识别库（浮点库）路径: ``\components\bk_thirdparty\asr\wanson``

	华镇的本地语音识别 API接口的详细说明请参考源文件: ``\components\bk_thirdparty\asr\wanson\include\asr.h``

3、cli命令简介
--------------------
demo支持的命令如下表:

+--------------------------------------+-------------------+
|Command                               |Description        |
+======================================+===================+
|asr_file_test {xxx.pcm}               |识别录音           |
+--------------------------------------+-------------------+
|aud_intf_asr_test {start|stop}        |实时识别           |
+--------------------------------------+-------------------+

project编译指令： ``make bk7256 PROJECT=thirdparty/wanson_asr``


4、演示介绍
--------------------

识别录音执行的步骤如下:

	1.挂载TF卡
	 - Uart发送AT指令 ``fatfstest M 1`` 挂载TF卡

	2.识别音频文件
	 - demo板发送指令 ``asr_file_test xxx.pcm`` 识别音频文件中的唤醒词和命令词

.. note::
 - 1、识别录音文件需要音频文件的格式是: ``单声道，16K采样率，16 bit位宽``
 - 2、识别录音文件对cpu的算力没有要求，方便用来验证语音识别库的功能正常正常

实时识别执行的步骤如下:

	1.打开实时语音识别
	 - demo板发送指令 ``aud_intf_asr_test start`` 打开实时语音识别

	2.测试唤醒词和命令词，支持的唤醒词和命令词如下:
	 - ``小蜂管家`` 识别成功串口打印log ``xiao feng guan jia``
	 - ``阿尔米诺`` 识别成功串口打印log ``a er mi nuo``
	 - ``会客模式`` 识别成功串口打印log ``hui ke mo shi``
	 - ``用餐模式`` 识别成功串口打印log ``yong can mo shi``
	 - ``离开模式`` 识别成功串口打印log ``li kai mo shi``
	 - ``回家模式`` 识别成功串口打印log ``hui jia mo shi``

	3.关闭实时语音识别
	 - demo板发送指令 ``aud_intf_asr_test stop`` 关闭实时语音识别

5、参考链接
--------------------

	`wanson—asr开发指南 <../../../developer-guide/wanson_asr/index.html>`_

6. 上海华镇电子科技有限公司
-------------------------------
    | 官网：http://www.wanson.cn/
    | 总部地址：上海闵行区申旺路789号慧高光创园307-308室
	| 深圳办地址：深圳市宝安区西乡汇一城壹中心1A栋东座2215-16
    | 电话：021-61557858
    | 手机：13524859176
	|       13296017858
